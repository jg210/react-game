(this.webpackJsonpgame=this.webpackJsonpgame||[]).push([[0],{52:function(e,t,n){e.exports=n(80)},57:function(e,t,n){},68:function(e,t,n){},76:function(e,t){},80:function(e,t,n){"use strict";n.r(t);var i=n(1),a=n.n(i),r=n(32),s=n.n(r),o=(n(57),n(85)),c=n(12),l=n(11),h=n(20),u=n(19),d=n(21),p=n(14),f=n(46),g=n.n(f),v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{type:"LEVEL_CHANGE",payload:{level:e}}},b=function(e){return{type:"SCORE_UPDATE",payload:{points:e}}},m=function(e){return{type:"SCREEN_CHANGE",payload:{screen:e}}},y=n(16),E=n(51),w=n(15),k={wireframe:!1},x={current:1,last:5},O={current:0},j={current:"start"},C=Object(y.c)({debug:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE_WIREFRAME_MODE":return Object(w.a)({},e,{wireframe:!e.wireframe});default:return e}},level:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LEVEL_CHANGE":var n=t.payload.level;if(null===n&&(n=e.current+1),n<1||n>e.last)throw new Error("level out of range: ".concat(n));return Object(w.a)({},e,{current:n});default:return e}},score:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0,n=e.current;switch(t.type){case"RESET_SCORE":return Object(w.a)({},e,{current:0});case"SCORE_UPDATE":var i=t.payload.points;return n+=i,Object(w.a)({},e,{current:n});default:return e}},screen:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SCREEN_CHANGE":var n=t.payload.screen;return Object(w.a)({},e,{current:n});default:return e}}}),_=n(6),S=n.n(_),T=n(7),A=n(24),R=n.n(A),L=["INFO","DEBUG"].map((function(e){return e.length})),P=R.a.max(L),B=function(){function e(){Object(c.a)(this,e)}return Object(l.a)(e,null,[{key:"info",value:function(e){this.log("INFO",e)}},{key:"debug",value:function(e){this.log("DEBUG",e)}},{key:"log",value:function(e,t){var n=new Date,i="function"===typeof t?t():t;console.log("".concat(n.toISOString()," ").concat(e.padStart(P)," ").concat(i))}}]),e}(),W=S.a.mark(N),I=S.a.mark(G);function N(e){return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:B.info("Action: ".concat(e.type));case 1:case"end":return t.stop()}}),W)}function G(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(T.f)("*",N);case 2:case"end":return e.stop()}}),I)}var M=S.a.mark(H),U=S.a.mark(D);function H(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(T.b)(m("gameComplete"));case 2:case"end":return e.stop()}}),M)}function D(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(T.f)("GAME_COMPLETE",H);case 2:case"end":return e.stop()}}),U)}var V=n(47),X=Object(V.a)([function(e){return e.level.current},function(e){return e.level.last}],(function(e,t){return e===t})),F=S.a.mark(K),z=S.a.mark(q);function K(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(T.d)(X);case 2:if(!e.sent){e.next=7;break}return e.next=5,Object(T.b)({type:"GAME_COMPLETE"});case 5:e.next=11;break;case 7:return e.next=9,Object(T.b)(v());case 9:return e.next=11,Object(T.b)({type:"START_LEVEL"});case 11:case"end":return e.stop()}}),F)}function q(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(T.f)("LEVEL_COMPLETE",K);case 2:case"end":return e.stop()}}),z)}var J=S.a.mark(Q),Y=S.a.mark(Z);function Q(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(T.b)({type:"RESET_SCORE"});case 2:return e.next=4,Object(T.b)(v(1));case 4:return e.next=6,Object(T.b)(m("start"));case 6:case"end":return e.stop()}}),J)}function Z(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(T.f)("START",Q);case 2:case"end":return e.stop()}}),Y)}var $=S.a.mark(te),ee=S.a.mark(ne);function te(){var e;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(T.b)(m("startLevel"));case 2:return t.next=4,Object(T.c)({sleep:Object(T.a)(2500),dismissal:Object(T.e)("DISMISS_START_LEVEL_SCREEN"),cancel:Object(T.e)("START")});case 4:if(e=t.sent,e.cancel){t.next=11;break}return t.next=9,Object(T.b)(b(1));case 9:return t.next=11,Object(T.b)(m("game"));case 11:case"end":return t.stop()}}),$)}function ne(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(T.f)("START_LEVEL",te);case 2:case"end":return e.stop()}}),ee)}var ie=S.a.mark(re),ae=S.a.mark(se);function re(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(T.b)({type:"START_LEVEL"});case 2:case"end":return e.stop()}}),ie)}function se(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(T.f)("START_GAME",re);case 2:case"end":return e.stop()}}),ae)}var oe=[G,D,q,Z,ne,se],ce=(n(68),n(42)),le=n(4),he=n(48),ue=n.n(he),de=function(){function e(){Object(c.a)(this,e)}return Object(l.a)(e,null,[{key:"clamp",value:function(e,t,n){if(n<t)throw new Error("max of ".concat(n," is less than min ").concat(t," (with value of ").concat(e,")"));return e<t&&(e=t),e>n&&(e=n),e}},{key:"nonNull",value:function(e){if(null===e)throw new Error("null value.");if(void 0===e)throw new Error("undefined value.");return e}}]),e}(),pe=function(){function e(t){Object(c.a)(this,e),this.constraints=[],this.objects=[],this.acceleration=0,this.enabled=!0,this.speed=0,this.dragging=!1;var n=t.x,i=t.y;this.minX=t.minX,this.maxX=t.maxX,this.width=t.width,this.height=t.height,this.world=t.world,this.maxAcceleration=void 0===t.maxAcceleration?.005:t.maxAcceleration,this.maxSpeed=void 0===t.maxSpeed?1.3:t.maxSpeed,this.onRelease=t.onRelease;var a=.2*this.height,r=[{x:-this.width/2,y:-this.height/2},{x:0,y:-this.height/2-a},{x:this.width/2,y:-this.height/2},{x:this.width/2,y:this.height/2},{x:-this.width/2,y:this.height/2}];this.body=le.Bodies.fromVertices(n,i,r,{label:"magnet",isStatic:!0,render:{fillStyle:"Grey"}})}return Object(l.a)(e,[{key:"attachmentPosition",value:function(){return{x:this.body.position.x,y:this.body.position.y+this.height/2}}},{key:"addToWorld",value:function(){le.World.add(this.world,this.body)}},{key:"attachToMagnet",value:function(e){var t=le.Constraint.create({bodyA:this.body,bodyB:e,render:{visible:!1}});this.constraints.push(t),this.objects.push(e),this.enabled&&(le.World.add(this.world,t),this.reposition(e))}},{key:"leftButtonPressed",value:function(e){return 1&e.buttons}},{key:"insideRect",value:function(e,t){var n=e.clientX,i=e.clientY;return!(n<t.left||n>t.right||i<t.top||i>t.bottom)}},{key:"handlePointerEvent",value:function(e,t){if(t.isPrimary)if(this.dragging&&0===t.button&&"pointerup"===t.type&&this.insideRect(t,e)&&this.setEnabled(!1),this.leftButtonPressed(t)){var n={x:t.clientX-e.left,y:t.clientY-e.top};le.Bounds.contains(this.body.bounds,n)&&(this.dragging=!0,0===t.button&&"pointerdown"===t.type&&this.setEnabled(!0)),this.dragging&&(this.stop(),le.Body.setPosition(this.body,{x:n.x,y:this.body.position.y}))}else this.dragging=!1}},{key:"left",value:function(){this.speed>0&&(this.speed=0),this.acceleration=-this.maxAcceleration}},{key:"right",value:function(){this.speed<0&&(this.speed=0),this.acceleration=this.maxAcceleration}},{key:"stop",value:function(){this.acceleration=0,this.speed=0}},{key:"update",value:function(e){this.speed=de.clamp(this.speed+this.acceleration*e,-this.maxSpeed,this.maxSpeed);var t=this.speed*e,n=de.clamp(this.body.position.x+t,this.minX,this.maxX),i=this.body.position.y;le.Body.setPosition(this.body,{x:n,y:i}),le.Body.setVelocity(this.body,{x:this.speed,y:0})}},{key:"toggle",value:function(){this.setEnabled(!this.enabled)}},{key:"setEnabled",value:function(e){var t=this;e?this.enabled||(le.World.add(this.world,this.constraints),this.objects.forEach((function(e){t.reposition(e)}))):this.enabled&&(le.World.remove(this.world,this.constraints),this.onRelease()),this.enabled=e}},{key:"reposition",value:function(e){var t=this.attachmentPosition(),n=e.bounds.max.y-e.bounds.min.y;t.y=t.y+n/2,B.debug("repositioning body with id: ".concat(e.id," to: ").concat(JSON.stringify(t))),le.Body.setPosition(e,t)}},{key:"getSpeed",value:function(){return this.speed}}]),e}(),fe=function(){function e(t,n,i,a,r){var s=this;Object(c.a)(this,e),this.ballImageSize=64,this.magnetHeight=15,this.magnetWidth=50,this.maxSpeedSquared=Math.pow(7,2),this.maxAngularVelocity=.5,this.wallThickness=50,this.lastUpdateTimestamp=null,this.started=!1,this.stopped=!1,this._handleCollision=function(e){var t=s;e.pairs.forEach((function(e){[e.bodyA,e.bodyB].forEach((function(e){le.Sleeping.set(e,!1),t._dislodgeCheck(e)}))}))},this._handlePointerEvent=function(e){var t=s.renderer.canvas.getBoundingClientRect();s.magnet.handlePointerEvent(t,e)},this._handleKeyPress=function(e){if(!e.repeat)if("keydown"===e.type&&" "===e.key&&s.magnet.toggle(),"keydown"===e.type)"ArrowLeft"===e.key?s.magnet.left():"ArrowRight"===e.key&&s.magnet.right();else{if("keyup"!==e.type)throw new Error(e);s.magnet.stop()}},this._handleBeforeUpdate=function(e){var t=s;if(void 0===s.lastUpdateTimestamp)throw new Error;if(null!==s.lastUpdateTimestamp){var n=e.timestamp-s.lastUpdateTimestamp;s.magnet.update(n)}le.Composite.allBodies(s.engine.world).forEach((function(e){var n=de.clamp(e.angularVelocity,-s.maxAngularVelocity,s.maxAngularVelocity);le.Body.setAngularVelocity(e,n);var i=e.velocity,a=i.x*i.x+i.y*i.y;if(a>s.maxSpeedSquared){var r=Math.sqrt(s.maxSpeedSquared/a);le.Body.setVelocity(e,{x:i.x*r,y:i.y*r})}!t._insideBox(e)&&t.objectIds.has(e.id)&&(B.debug("escaped: ".concat(e.id)),le.World.remove(t.engine.world,e),t._dislodgeCheck(e))})),s._isEverythingSleepingOrEscaped()&&(0===s.objectIdsRemaining.size?s.levelComplete():s.magnet.setEnabled(!0)),s.lastUpdateTimestamp=e.timestamp},this._dislodgeCheck=this._dislodgeCheck.bind(this),this.levelComplete=a,this.scoreUpdate=r,this.level=n,this.wireframe=i,this.container=t,this.boxHeight=t.clientHeight,this.boxWidth=t.clientWidth,this.engine=le.Engine.create(),this.engine.world.gravity.y=.2,this.engine.enableSleeping=!0,this.ballRadius=1.025*this.ballImageSize/2,this.ballHeight=this.ballRadius,this.ballWidth=this.ballRadius,this.magnet=this._createMagnet(),this.ball=this._createBall(this.magnet);var o=this._createWalls(),l=this._createObjects(),h=R.a.map(l,(function(e){return e.id}));this.objectIds=new Set(h),this.objectIdsRemaining=new Set(h),this.magnet.attachToMagnet(this.ball),le.World.add(this.engine.world,[].concat(Object(ce.a)(o),[this.ball],Object(ce.a)(l))),this.magnet.addToWorld(),B.info("Body ids:"),le.Composite.allBodies(this.engine.world).forEach((function(e){B.info("".concat(e.id," - ").concat(e.label))})),this.renderer=le.Render.create({element:this.container,engine:this.engine,options:{background:"#fafafa",width:this.boxWidth,height:this.boxHeight}}),this.setWireframe(this.wireframe)}return Object(l.a)(e,[{key:"start",value:function(){if(this.started)throw new Error("already started.");if(this.stopped)throw new Error("cannot restart.");le.Events.on(this.engine,"collisionStart",this._handleCollision),le.Events.on(this.engine,"beforeUpdate",this._handleBeforeUpdate),le.Engine.run(this.engine),le.Render.run(this.renderer),document.addEventListener("keydown",this._handleKeyPress),document.addEventListener("keyup",this._handleKeyPress),this.renderer.canvas.addEventListener("pointerdown",this._handlePointerEvent),this.renderer.canvas.addEventListener("pointermove",this._handlePointerEvent),this.renderer.canvas.addEventListener("pointerup",this._handlePointerEvent),this.renderer.canvas["touch-action"]="none",this.container.focus(),this.started=!0}},{key:"stop",value:function(){if(!this.started)throw new Error("not started.");if(this.stopped)throw new Error("already stopped");this.renderer.canvas.removeEventListener("pointerup",this._handlePointerEvent),this.renderer.canvas.removeEventListener("pointerdown",this._handlePointerEvent),this.renderer.canvas.removeEventListener("pointermove",this._handlePointerEvent),document.removeEventListener("keydown",this._handleKeyPress),document.removeEventListener("keyup",this._handleKeyPress),le.Render.stop(this.renderer),le.Events.off(this.engine,"collisionStart"),le.Events.off(this.engine,"beforeUpdate"),this.renderer.canvas.remove(),this.started=!1,this.stopped=!0}},{key:"_dislodgeCheck",value:function(e){if(this.objectIdsRemaining.delete(e.id)){B.debug("dislodged: ".concat(e.id));this.scoreUpdate(1)}}},{key:"_insideBox",value:function(e){var t=e.position.x,n=e.position.y;return!(t<0||t>this.boxWidth||n<0||n>this.boxHeight)}},{key:"_isEverythingSleepingOrEscaped",value:function(){var e=this;return R.a.every(this.engine.world.bodies,(function(t){return t.isSleeping||!e._insideBox(t)}))}},{key:"_createWalls",value:function(){var e={isStatic:!0,render:{fillStyle:"LightGrey"}};return[le.Bodies.rectangle(this.boxWidth/2,0,this.boxWidth,this.wallThickness,Object(w.a)({},e,{label:"wall - T"})),le.Bodies.rectangle(this.boxWidth/2,this.boxHeight,this.boxWidth,this.wallThickness,Object(w.a)({},e,{label:"wall - B"})),le.Bodies.rectangle(this.boxWidth,this.boxHeight/2,this.wallThickness,this.boxHeight,Object(w.a)({},e,{label:"wall - R"})),le.Bodies.rectangle(0,this.boxHeight/2,this.wallThickness,this.boxHeight,Object(w.a)({},e,{label:"wall - L"}))]}},{key:"_initialX",value:function(){return.68*(this.boxWidth-this.wallThickness/2)+this.wallThickness/2}},{key:"_createMagnet",value:function(){var e=this,t=this.wallThickness/2+Math.max(this.magnetWidth/2,this.ballWidth/2)+.01*this.boxWidth;return new pe({x:this._initialX(),y:this.wallThickness/2+.01*this.boxHeight+this.magnetHeight/2,minX:t,maxX:this.boxWidth-t,width:this.magnetWidth,height:this.magnetHeight,world:this.engine.world,onRelease:function(){return e.scoreUpdate(-1)}})}},{key:"_createBall",value:function(e){var t=e.attachmentPosition().x,n=e.attachmentPosition().y+this.ballRadius;return le.Bodies.circle(t,n,this.ballRadius,{label:"ball",render:{sprite:{texture:"".concat("/react-game","/ball.png")}},restitution:.5,frictionAir:0,frictionStatic:0})}},{key:"_createObjects",value:function(){var e=this,t=ue()(this.level+484726723),n=[];return R.a.range(0,this.level).forEach((function(i){var a=10+15*t(),r=e.wallThickness/2+a,s=r+t()*(e.boxWidth-2*r),o=r+e.magnetHeight+e.ballHeight+t()*(e.boxHeight-2*r-e.magnetHeight-e.ballHeight),c=le.Bodies.circle(s,o,a,{label:"object ".concat(i),isStatic:!1,isSleeping:!0});n.push(c)})),n}},{key:"setWireframe",value:function(e){this.wireframe=e,this.renderer.options.wireframes=e,this.renderer.options.showSleeping=e,this.renderer.options.showAngleIndicator=e}},{key:"getBodyCount",value:function(){return le.Composite.allBodies(this.engine.world).length}},{key:"getConstraintCount",value:function(){return le.Composite.allConstraints(this.engine.world).length}}]),e}(),ge=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(h.a)(this,Object(u.a)(t).call(this,e))).gameEngine=null,n}return Object(d.a)(t,e),Object(l.a)(t,null,[{key:"getContainer",value:function(){return document.getElementById(t.CONTAINER_ID)}},{key:"focus",value:function(){var e=t.getContainer();e&&e.focus()}}]),Object(l.a)(t,[{key:"render",value:function(){return this.gameEngine&&this.gameEngine.setWireframe(this.props.wireframe),a.a.createElement("div",{className:"Game",id:t.CONTAINER_ID,tabIndex:"0"})}},{key:"_startEngine",value:function(){var e=de.nonNull(t.getContainer());this.gameEngine=new fe(e,this.props.level,this.props.wireframe,this.props.levelComplete,this.props.scoreUpdate),this.gameEngine.start()}},{key:"_stopEngine",value:function(){this.gameEngine&&(this.gameEngine.stop(),this.gameEngine=null)}},{key:"componentDidMount",value:function(){this._startEngine()}},{key:"componentWillUnmount",value:function(){this._stopEngine()}},{key:"componentDidUpdate",value:function(e,t){this.props.level!==e.level&&(this._stopEngine(),this._startEngine())}}]),t}(i.Component);ge.CONTAINER_ID="matter_js_container";var ve={levelComplete:function(){return{type:"LEVEL_COMPLETE"}},scoreUpdate:b},be=Object(p.b)((function(e){return{level:e.level.current,wireframe:e.debug.wireframe}}),ve)(ge),me={toggleWireframeMode:function(){return{type:"TOGGLE_WIREFRAME_MODE"}}},ye=Object(p.b)((function(e){return{score:e.score.current}}),me)((function(e){return a.a.createElement("div",{className:"Score",onDoubleClick:e.toggleWireframeMode},e.score)})),Ee={dismissStartLevelScreen:function(){return{type:"DISMISS_START_LEVEL_SCREEN"}}},we=Object(p.b)((function(e){return{level:e.level.current}}),Ee)((function(e){return a.a.createElement("div",{className:"StartLevelScreen",onClick:e.dismissStartLevelScreen},"Level ",e.level)})),ke=n(49),xe=n(29),Oe=function(e){function t(){var e,n;Object(c.a)(this,t);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(n=Object(h.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(a)))).handleClick=function(e){var t=e.currentTarget;if(t){var i=parseInt(t.value);n.props.levelChange(i)}},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return a.a.createElement("select",{value:this.props.level,onChange:this.handleClick},R.a.range(1,this.props.numberOfLevels+1).map((function(e){return a.a.createElement("option",{key:e,value:e},e)})))}}]),t}(i.Component),je={levelChange:v},Ce=(Object(p.b)((function(e){return{level:e.level.current,numberOfLevels:e.level.last}}),je)(Oe),n(36)),_e=n.n(Ce);function Se(){return"true"===Ce.Cookies.get("CookieConsent")}var Te=n(38);function Ae(e){Te.a.initialize("UA-144250820-2"),Re(e,!0)}function Re(e,t){var n=window.location.pathname+e;B.info((function(){return"GA page: "+n})),void 0===t&&(t=Se()),t?(Te.a.set({page:n}),Te.a.pageview(n)):B.info("GA pageview not sent since cookie consent not given.")}var Le=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(h.a)(this,Object(u.a)(t).call(this,e))).ref=a.a.createRef(),n.handleCrashClick=function(e){throw e.stopPropagation(),new Error("testing 123 - clicked on 'crash' in start page.")},n.stopPropagation=function(e){e.stopPropagation()},n.handleClick=n.handleClick.bind(Object(xe.a)(n)),n.handleCrashClick=n.handleCrashClick.bind(Object(xe.a)(n)),n.stopPropagation=n.stopPropagation.bind(Object(xe.a)(n)),n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement("div",{ref:this.ref,tabIndex:"0",onClick:this.handleClick,onKeyPress:this.handleClick,className:"StartScreen"},a.a.createElement("p",null,"Touch screen, click or press any key to start game."),a.a.createElement("p",null,"Use your finger, mouse or arrow keys to position the magnet."),a.a.createElement("p",null,"Release finger/button or press space to turn the magnet on or off."),a.a.createElement("p",null,"You move to the next level when all the objects (including the ball) are at the bottom of the box."),a.a.createElement("p",null,"You gain a point for each dislodged object and starting a new level, but lose a point each time release ball."),a.a.createElement("p",null,"Double clicking/tapping on score toggles debug mode."),a.a.createElement("div",null,a.a.createElement("p",null,"JavaScript ",a.a.createElement("span",{onClick:this.handleCrashClick},"crashes")," are recorded using ",a.a.createElement("a",{href:"https://sentry.io",onClick:this.stopPropagation},"Sentry"),".")),a.a.createElement("p",null,"Use of this site is tracked using ",a.a.createElement("a",{href:"https://analytics.google.com/analytics/web/"},"Google Analytics"),"."),a.a.createElement("img",{hidden:!0,alt:"",src:"ball.png"}),null),a.a.createElement(_e.a,{buttonText:"I Agree",cookieName:"CookieConsent",onAccept:function(){Ae("start")}},"This site uses cookies."))}},{key:"handleClick",value:function(){var e=Object(ke.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.toggleFullscreen(),this.props.startGame(),!(window.screen&&window.screen.orientation&&window.screen.orientation.lock&&window.screen.orientation.type)){e.next=10;break}return e.prev=3,e.next=6,window.screen.orientation.lock(window.screen.orientation.type);case 6:e.next=10;break;case 8:e.prev=8,e.t0=e.catch(3);case 10:case"end":return e.stop()}}),e,this,[[3,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.ref.current.focus()}}]),t}(i.Component),Pe={startGame:function(){return{type:"START_GAME"}}},Be={start:Object(p.b)(null,Pe)(Le),startLevel:we,game:function(e){return a.a.createElement("div",{className:"GameScreen"},a.a.createElement(ye,null),a.a.createElement(be,null))},gameComplete:function(e){return a.a.createElement("div",null,"Game Complete")}},We=function(e){function t(){return Object(c.a)(this,t),Object(h.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=Be[this.props.screen];return a.a.createElement(e,{toggleFullscreen:this.props.toggleFullscreen},null)}},{key:"componentDidUpdate",value:function(e,t){e.screen!==this.props.screen&&Re(this.props.screen)}}]),t}(i.Component),Ie=Object(p.b)((function(e){return{screen:e.screen.current}}),{})(We),Ne=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(h.a)(this,Object(u.a)(t).call(this,e))).reactGAInitialized=!1,n.store=function(){var e=Object(E.a)(),t=Object(y.e)(C,Object(y.a)(e));return oe.forEach((function(t){e.run(t)})),t}(),n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return a.a.createElement(p.a,{store:this.store},a.a.createElement("div",{className:"App"},a.a.createElement("header",{className:"App-header"},a.a.createElement(Ie,{toggleFullscreen:this.props.toggleFullscreen}))))}},{key:"componentDidMount",value:function(){!this.reactGAInitialized&&Se()&&(Ae("start"),this.reactGAInitialized=!0)}},{key:"componentDidUpdate",value:function(e,t){e.isFullscreen&&!this.props.isFullscreen&&this.store.dispatch({type:"START"})}}]),t}(i.Component),Ge=g()()(Ne),Me=(n(77),"https://817a6d8f2f2940fa8ba8d6bfa0842617@sentry.io/1509240");o.a({dsn:Me,release:"react-game@4f4a7d28d1970334e7692f43d245f0fab6cf3994",environment:"production"}),window.decomp=n(79);var Ue=de.nonNull(document.getElementById("root"));s.a.render(a.a.createElement(Ge,null),Ue)}},[[52,1,2]]]);
//# sourceMappingURL=main.05ae66f6.chunk.js.map